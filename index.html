<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta credits="ENOS16 Palette (chosen as palette of the day May 5th, 2025) https://lospec.com/palette-list/enos16">
    <title>Date^2</title>
    <link rel="icon" href="smallLogo.png" type="image/png">
    <link href="style.css" rel="stylesheet">
</head>
<body>
    <div style="text-align:center">
        <img src="bigLogo.png" style="width: 30%;">
    </div>
    <br>
    <div id="main">
        <p>Today's Date:</p>  
        <p id="date" style="color:#e75952; margin-top: -20px;"></p>
        <p id="state" style="font-size: 50px;"></p>
    </div>
    <br>

    <u><H1>"Square Day"</H1></u>
    <p>Any day where the month and the day are <br>both the square root of the year.</p>
    <p style="font-size:large">E.G May 5th, 2025 [5/5/25]</p>
    
    <audio id="yayAudio" src="yay.mp3" preload="auto"></audio>

    <script>
        let hasPlayed = false; // Track if the audio has already played

        function fetchState() {
            const today = new Date();
            const year = today.getFullYear() - 2000;
            const month = today.getMonth() + 1; // Months are 0-indexed
            const date = today.getDate();
            const isSquareDay = Math.sqrt(year) === month && Math.sqrt(year) === date;

            document.getElementById('date').textContent = `${month}/${date}/${today.getFullYear()}`;
            document.getElementById('state').textContent = isSquareDay ? "Today is a Square Day!" : "Today is not a Square Day.";
            if (isSquareDay) {
                document.body.classList.add('strobe');
                document.getElementById('state').classList.add('special')
            } else {
                document.body.classList.remove('strobe');
            }
            // Play audio only once and handle autoplay restrictions
            if (isSquareDay && !hasPlayed) {
                const audio = document.getElementById('yayAudio');
                audio.play()
                    .then(() => {
                        hasPlayed = true; // Mark as played after successful playback
                    })
                    .catch((error) => {
                        console.warn("Audio autoplay prevented by browser. Allow user interaction to enable sound:", error);
                    });
            }
        }

        // Initial fetch of the state on page load
        fetchState();

        // Periodically check the state every 5 seconds
        setInterval(fetchState, 5000);
    </script>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <!--must be cold in here-->
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <a href="extras.html" id="normal">extras</a>
</body>
</html>
